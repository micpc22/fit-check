<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitLife - Fitness App Onboarding</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.5;
            background: linear-gradient(135deg, #0e1621 0%, #1a2332 100%);
            min-height: 100vh;
            color: #fff;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            line-height: 1.2;
        }

        h2 {
            font-size: 2rem;
            font-weight: 700;
            line-height: 1.3;
        }

        h3 {
            font-size: 1.25rem;
            font-weight: 600;
            line-height: 1.4;
        }

        h4 {
            font-size: 1rem;
            font-weight: 600;
            line-height: 1.4;
        }

        p {
            font-size: 1rem;
            line-height: 1.6;
        }

        .progress-bar {
            background: linear-gradient(to right, rgb(147, 51, 234), rgb(59, 130, 246));
            height: 100%;
            border-radius: 9999px;
            transition: width 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(to right, rgb(147, 51, 234), rgb(59, 130, 246));
            transition: all 0.2s;
        }

        .btn-primary:hover {
            background: linear-gradient(to right, rgb(126, 34, 206), rgb(29, 78, 216));
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .card {
            background: rgba(27, 36, 48, 0.6);
            border-radius: 0.75rem;
            border: 1px solid rgba(91, 155, 213, 0.2);
            transition: all 0.2s;
        }

        .card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            border-color: rgba(91, 155, 213, 0.4);
        }

        .card.selected {
            border: 2px solid rgb(147, 51, 234);
            box-shadow: 0 10px 15px -3px rgba(147, 51, 234, 0.3);
        }

        .hidden {
            display: none !important;
        }

        .scale-animation {
            animation: scaleIn 0.5s ease-out;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        .spin {
            animation: spin 2s linear infinite;
        }

        .radio-circle {
            width: 1.25rem;
            height: 1.25rem;
            border-radius: 9999px;
            border: 2px solid rgb(107, 114, 128);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .radio-circle-lg {
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 9999px;
            border: 2px solid rgb(107, 114, 128);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card.selected .radio-circle,
        .card.selected .radio-circle-lg {
            border-color: rgb(147, 51, 234);
            background-color: rgb(147, 51, 234);
        }

        .card.selected .radio-circle::after {
            content: '';
            width: 0.5rem;
            height: 0.5rem;
            background: white;
            border-radius: 9999px;
        }

        .card.selected .radio-circle-lg::after {
            content: '';
            width: 0.75rem;
            height: 0.75rem;
            background: white;
            border-radius: 9999px;
        }

        .checkbox-circle {
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 9999px;
            border: 2px solid white;
            background: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card.selected .checkbox-circle {
            background: rgb(147, 51, 234);
            border-color: white;
        }

        .card.selected .checkbox-circle::after {
            content: '';
            width: 0.75rem;
            height: 0.75rem;
            background: white;
            border-radius: 9999px;
        }

        .day-btn.selected {
            background: linear-gradient(to bottom right, rgb(147, 51, 234), rgb(59, 130, 246)) !important;
            color: white !important;
            border-color: transparent !important;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div id="progressBar" class="hidden fixed top-0 left-0 right-0 z-50 bg-black/30 backdrop-blur-sm border-b border-gray-700">
        <div class="max-w-4xl mx-auto px-6 py-4">
            <div class="flex items-center space-x-4">
                <button id="backBtn" class="px-3 py-2 hover:bg-gray-700 rounded-lg transition">
                    <span>&#8592;</span> <!-- Left arrow -->
                </button>
                <div class="flex-1 bg-gray-700 h-2 rounded-full overflow-hidden">
                    <div id="progressFill" class="progress-bar" style="width: 0%"></div>
                </div>
                <span id="progressText" class="text-sm text-gray-400">0 of 5</span>
            </div>
        </div>
    </div>

    <!-- Step 0: Welcome -->
    <div id="step0" class="flex flex-col items-center justify-center min-h-screen px-6">
        <div class="max-w-md w-full space-y-8 text-center">
            <div class="flex justify-center">
                <div class="bg-gradient-to-br from-purple-600 to-blue-600 p-4 rounded-2xl shadow-lg">
                    <!-- Replaced SVG with emoji -->
                    <span class="text-4xl">‚öôÔ∏è</span>
                </div>
            </div>
            
            <div class="space-y-3">
                <h1 class="text-purple-400">Welcome to FITTCHECK</h1>
                <p class="text-gray-300">
                    Your personal fitness journey starts here. Let's customize your experience to help you reach your goals.
                </p>
            </div>

            <div class="relative w-full h-64 rounded-2xl overflow-hidden shadow-xl">
                <img 
                    src="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=800&q=80" 
                    alt="Fitness motivation" 
                    class="w-full h-full object-cover"
                />
            </div>

            <div class="space-y-3 pt-4">
                <button onclick="nextStep()" class="btn-primary w-full text-white py-6 px-4 rounded-lg">
                    Get Started
                </button>
                <p class="text-sm text-gray-400">Takes less than 2 minutes</p>
            </div>
        </div>
    </div>

    <!-- Step 1: Goals -->
    <div id="step1" class="hidden flex flex-col items-center justify-center min-h-screen px-6 py-12">
        <div class="max-w-2xl w-full space-y-8">
            <div class="text-center space-y-3">
                <h2>What's your main goal?</h2>
                <p class="text-gray-400">Choose the goal that matters most to you right now</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="card p-6 cursor-pointer" onclick="selectGoal('lose-weight', this)">
                    <div class="flex items-start space-x-4">
                        <!-- Replaced SVG with emoji -->
                        <div class="bg-gradient-to-br from-red-500 to-orange-500 p-3 rounded-xl text-white text-2xl">
                            &#8595;
                        </div>
                        <div class="flex-1">
                            <h3 class="mb-1">Lose Weight</h3>
                            <p class="text-sm text-gray-400">Burn calories and shed pounds</p>
                        </div>
                        <div class="radio-circle"></div>
                    </div>
                </div>

                <div class="card p-6 cursor-pointer" onclick="selectGoal('build-muscle', this)">
                    <div class="flex items-start space-x-4">
                        <!-- Replaced SVG with emoji -->
                        <div class="bg-gradient-to-br from-purple-500 to-pink-500 p-3 rounded-xl text-white text-2xl">
                            üí™
                        </div>
                        <div class="flex-1">
                            <h3 class="mb-1">Build Muscle</h3>
                            <p class="text-sm text-gray-400">Gain strength and muscle mass</p>
                        </div>
                        <div class="radio-circle"></div>
                    </div>
                </div>

                <div class="card p-6 cursor-pointer" onclick="selectGoal('stay-fit', this)">
                    <div class="flex items-start space-x-4">
                        <!-- Replaced SVG with emoji -->
                        <div class="bg-gradient-to-br from-blue-500 to-cyan-500 p-3 rounded-xl text-white text-2xl">
                            ‚ù§Ô∏è
                        </div>
                        <div class="flex-1">
                            <h3 class="mb-1">Stay Fit</h3>
                            <p class="text-sm text-gray-400">Maintain overall health</p>
                        </div>
                        <div class="radio-circle"></div>
                    </div>
                </div>

                <div class="card p-6 cursor-pointer" onclick="selectGoal('improve-endurance', this)">
                    <div class="flex items-start space-x-4">
                        <!-- Replaced SVG with emoji -->
                        <div class="bg-gradient-to-br from-green-500 to-emerald-500 p-3 rounded-xl text-white text-2xl">
                            ‚úÖ
                        </div>
                        <div class="flex-1">
                            <h3 class="mb-1">Improve Endurance</h3>
                            <p class="text-sm text-gray-400">Boost stamina and energy</p>
                        </div>
                        <div class="radio-circle"></div>
                    </div>
                </div>
            </div>

            <button id="goalBtn" onclick="saveGoalAndNext()" disabled class="btn-primary w-full text-white py-6 px-4 rounded-lg">
                Continue
            </button>
        </div>
    </div>

    <!-- Step 2: Level -->
    <div id="step2" class="hidden flex flex-col items-center justify-center min-h-screen px-6 py-12">
        <div class="max-w-2xl w-full space-y-8">
            <div class="text-center space-y-3">
                <h2>What's your fitness level?</h2>
                <p class="text-gray-400">We'll adjust your program to match your experience</p>
            </div>

            <div class="space-y-4">
                <div class="card p-6 cursor-pointer" onclick="selectLevel('beginner', this)">
                    <div class="flex items-center space-x-4">
                        <div class="bg-green-900/50 p-4 rounded-xl text-green-400 text-2xl">
                            <!-- Replaced SVG with emoji -->
                            ‚≠ê
                        </div>
                        <div class="flex-1">
                            <h3 class="mb-1">Beginner</h3>
                            <p class="text-sm text-gray-400 mb-1">New to fitness or returning after a break</p>
                            <p class="text-xs text-gray-500">2-3 workouts per week</p>
                        </div>
                        <div class="radio-circle-lg"></div>
                    </div>
                </div>

                <div class="card p-6 cursor-pointer" onclick="selectLevel('intermediate', this)">
                    <div class="flex items-center space-x-4">
                        <div class="bg-blue-900/50 p-4 rounded-xl text-blue-400 text-2xl">
                            <!-- Replaced SVG with emoji -->
                            ‚¨ÜÔ∏è
                        </div>
                        <div class="flex-1">
                            <h3 class="mb-1">Intermediate</h3>
                            <p class="text-sm text-gray-400 mb-1">Regular exercise routine established</p>
                            <p class="text-xs text-gray-500">3-5 workouts per week</p>
                        </div>
                        <div class="radio-circle-lg"></div>
                    </div>
                </div>

                <div class="card p-6 cursor-pointer" onclick="selectLevel('advanced', this)">
                    <div class="flex items-center space-x-4">
                        <div class="bg-red-900/50 p-4 rounded-xl text-red-400 text-2xl">
                            <!-- Replaced SVG with emoji -->
                            üî•
                        </div>
                        <div class="flex-1">
                            <h3 class="mb-1">Advanced</h3>
                            <p class="text-sm text-gray-400 mb-1">Experienced with consistent training</p>
                            <p class="text-xs text-gray-500">5-7 workouts per week</p>
                        </div>
                        <div class="radio-circle-lg"></div>
                    </div>
                </div>
            </div>

            <button id="levelBtn" onclick="saveLevelAndNext()" disabled class="btn-primary w-full text-white py-6 px-4 rounded-lg">
                Continue
            </button>
        </div>
    </div>

    <!-- Step 3: Preferences -->
    <div id="step3" class="hidden flex flex-col items-center justify-center min-h-screen px-6 py-12">
        <div class="max-w-3xl w-full space-y-8">
            <div class="text-center space-y-3">
                <h2>What activities do you enjoy?</h2>
                <p class="text-gray-400">Select all that apply - we'll personalize your workouts</p>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                <div class="card relative overflow-hidden cursor-pointer" onclick="toggleActivity('strength', this)">
                    <div class="relative h-32">
                        <img src="https://images.unsplash.com/photo-1669807164466-10a6584a067e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080" alt="Strength Training" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute top-2 right-2">
                            <div class="checkbox-circle"></div>
                        </div>
                        <div class="absolute bottom-3 left-3 right-3 flex items-center space-x-2">
                            <!-- Replaced SVG with emoji -->
                            <span class="text-white text-xl">‚öôÔ∏è</span>
                            <p class="text-white text-sm">Strength Training</p>
                        </div>
                    </div>
                </div>

                <div class="card relative overflow-hidden cursor-pointer" onclick="toggleActivity('cardio', this)">
                    <div class="relative h-32">
                        <img src="https://images.unsplash.com/photo-1758520706103-41d01f815640?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080" alt="Cardio" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute top-2 right-2">
                            <div class="checkbox-circle"></div>
                        </div>
                        <div class="absolute bottom-3 left-3 right-3 flex items-center space-x-2">
                            <!-- Replaced SVG with emoji -->
                            <span class="text-white text-xl">‚ù§Ô∏è</span>
                            <p class="text-white text-sm">Cardio</p>
                        </div>
                    </div>
                </div>

                <div class="card relative overflow-hidden cursor-pointer" onclick="toggleActivity('yoga', this)">
                    <div class="relative h-32">
                        <img src="https://images.unsplash.com/photo-1645652367526-a0ecb717650a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080" alt="Yoga" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute top-2 right-2">
                            <div class="checkbox-circle"></div>
                        </div>
                        <div class="absolute bottom-3 left-3 right-3 flex items-center space-x-2">
                            <!-- Replaced SVG with emoji -->
                            <span class="text-white text-xl">üßò</span>
                            <p class="text-white text-sm">Yoga</p>
                        </div>
                    </div>
                </div>

                <div class="card relative overflow-hidden cursor-pointer" onclick="toggleActivity('cycling', this)">
                    <div class="relative h-32">
                        <img src="https://images.unsplash.com/photo-1758520706103-41d01f815640?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080" alt="Cycling" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute top-2 right-2">
                            <div class="checkbox-circle"></div>
                        </div>
                        <div class="absolute bottom-3 left-3 right-3 flex items-center space-x-2">
                            <!-- Replaced SVG with emoji -->
                            <span class="text-white text-xl">üö¥</span>
                            <p class="text-white text-sm">Cycling</p>
                        </div>
                    </div>
                </div>

                <div class="card relative overflow-hidden cursor-pointer" onclick="toggleActivity('running', this)">
                    <div class="relative h-32">
                        <img src="https://images.unsplash.com/photo-1758520706103-41d01f815640?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080" alt="Running" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute top-2 right-2">
                            <div class="checkbox-circle"></div>
                        </div>
                        <div class="absolute bottom-3 left-3 right-3 flex items-center space-x-2">
                            <!-- Replaced SVG with emoji -->
                            <span class="text-white text-xl">üèÉ</span>
                            <p class="text-white text-sm">Running</p>
                        </div>
                    </div>
                </div>

                <div class="card relative overflow-hidden cursor-pointer" onclick="toggleActivity('hiit', this)">
                    <div class="relative h-32">
                        <img src="https://images.unsplash.com/photo-1734189605012-f03d97a4d98f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080" alt="HIIT" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute top-2 right-2">
                            <div class="checkbox-circle"></div>
                        </div>
                        <div class="absolute bottom-3 left-3 right-3 flex items-center space-x-2">
                            <!-- Replaced SVG with emoji -->
                            <span class="text-white text-xl">‚ö°</span>
                            <p class="text-white text-sm">HIIT</p>
                        </div>
                    </div>
                </div>
            </div>

            <button id="preferencesBtn" onclick="savePreferencesAndNext()" disabled class="btn-primary w-full text-white py-6 px-4 rounded-lg">
                Continue
            </button>
        </div>
    </div>

    <!-- Step 4: Schedule -->
    <div id="step4" class="hidden flex flex-col items-center justify-center min-h-screen px-6 py-12">
        <div class="max-w-2xl w-full space-y-8">
            <div class="text-center space-y-3">
                <div class="flex justify-center">
                    <div class="bg-purple-900/50 p-3 rounded-xl text-purple-400 text-2xl">
                        <!-- Replaced SVG with emoji -->
                        üìÖ
                    </div>
                </div>
                <h2>When can you work out?</h2>
                <p class="text-gray-400">Choose your preferred days and time</p>
            </div>

            <div class="space-y-6">
                <div class="space-y-3">
                    <h3>Select Days</h3>
                    <div class="grid grid-cols-7 gap-2">
                        <button onclick="toggleDay('Monday', this)" class="day-btn p-3 bg-gray-800/50 hover:bg-gray-700 text-gray-300 border border-gray-600 rounded-xl transition-all">
                            <div class="text-sm">Mon</div>
                        </button>
                        <button onclick="toggleDay('Tuesday', this)" class="day-btn p-3 bg-gray-800/50 hover:bg-gray-700 text-gray-300 border border-gray-600 rounded-xl transition-all">
                            <div class="text-sm">Tue</div>
                        </button>
                        <button onclick="toggleDay('Wednesday', this)" class="day-btn p-3 bg-gray-800/50 hover:bg-gray-700 text-gray-300 border border-gray-600 rounded-xl transition-all">
                            <div class="text-sm">Wed</div>
                        </button>
                        <button onclick="toggleDay('Thursday', this)" class="day-btn p-3 bg-gray-800/50 hover:bg-gray-700 text-gray-300 border border-gray-600 rounded-xl transition-all">
                            <div class="text-sm">Thu</div>
                        </button>
                        <button onclick="toggleDay('Friday', this)" class="day-btn p-3 bg-gray-800/50 hover:bg-gray-700 text-gray-300 border border-gray-600 rounded-xl transition-all">
                            <div class="text-sm">Fri</div>
                        </button>
                        <button onclick="toggleDay('Saturday', this)" class="day-btn p-3 bg-gray-800/50 hover:bg-gray-700 text-gray-300 border border-gray-600 rounded-xl transition-all">
                            <div class="text-sm">Sat</div>
                        </button>
                        <button onclick="toggleDay('Sunday', this)" class="day-btn p-3 bg-gray-800/50 hover:bg-gray-700 text-gray-300 border border-gray-600 rounded-xl transition-all">
                            <div class="text-sm">Sun</div>
                        </button>
                    </div>
                </div>

                <div class="space-y-3">
                    <h3>Preferred Time</h3>
                    <div class="space-y-3">
                        <div class="card p-4 cursor-pointer" onclick="selectTime('morning', this)">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4>Morning</h4>
                                    <p class="text-sm text-gray-400">6:00 AM - 10:00 AM</p>
                                </div>
                                <div class="radio-circle-lg"></div>
                            </div>
                        </div>

                        <div class="card p-4 cursor-pointer" onclick="selectTime('afternoon', this)">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4>Afternoon</h4>
                                    <p class="text-sm text-gray-400">12:00 PM - 4:00 PM</p>
                                </div>
                                <div class="radio-circle-lg"></div>
                            </div>
                        </div>

                        <div class="card p-4 cursor-pointer" onclick="selectTime('evening', this)">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4>Evening</h4>
                                    <p class="text-sm text-gray-400">5:00 PM - 9:00 PM</p>
                                </div>
                                <div class="radio-circle-lg"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <button id="scheduleBtn" onclick="saveScheduleAndNext()" disabled class="btn-primary w-full text-white py-6 px-4 rounded-lg">
                Continue
            </button>
        </div>
    </div>

    <!-- Step 5: Complete -->
    <div id="step5" class="hidden flex flex-col items-center justify-center min-h-screen px-6">
        <div class="max-w-md w-full space-y-8 text-center">
            <div class="flex justify-center">
                <div class="relative scale-animation">
                    <div class="bg-gradient-to-br from-purple-600 to-blue-600 p-6 rounded-full shadow-2xl">
                        <!-- Replaced SVG with emoji -->
                        <span class="text-4xl text-white">‚úÖ</span>
                    </div>
                    <div class="absolute -top-2 -right-2 spin">
                        <!-- Replaced SVG with emoji -->
                        <span class="text-2xl text-yellow-400">‚ú®</span>
                    </div>
                </div>
            </div>
            
            <div class="space-y-3">
                <h1 class="text-purple-400">You're All Set!</h1>
                <p class="text-gray-300">
                    Your personalized fitness plan is ready. Let's start your transformation journey today!
                </p>
            </div>

            <div class="bg-gray-800/50 rounded-2xl p-6 shadow-lg space-y-4">
                <div class="grid grid-cols-3 gap-4">
                    <div class="space-y-1">
                        <div class="bg-purple-900/50 rounded-lg p-3">
                            <p class="text-purple-400">Goal Set</p>
                        </div>
                        <p class="text-xs text-gray-400">Personalized</p>
                    </div>
                    <div class="space-y-1">
                        <div class="bg-blue-900/50 rounded-lg p-3">
                            <p class="text-blue-400">Plan Ready</p>
                        </div>
                        <p class="text-xs text-gray-400">Custom fit</p>
                    </div>
                    <div class="space-y-1">
                        <div class="bg-green-900/50 rounded-lg p-3">
                            <p class="text-green-400">Let's Go!</p>
                        </div>
                        <p class="text-xs text-gray-400">Start now</p>
                    </div>
                </div>
            </div>

            <div class="space-y-3 pt-4">
                <button onclick="completeOnboarding()" class="btn-primary w-full text-white py-6 px-4 rounded-lg">
                    Start Your Journey
                </button>
                <p class="text-sm text-gray-400">
                    "The journey of a thousand miles begins with one step." - Lao Tzu
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        let currentStep = 0;
        const totalSteps = 6;
        const onboardingData = {
            goal: '',
            level: '',
            preferences: [],
            schedule: {
                days: [],
                time: ''
            }
        };

        function updateProgress() {
            const progress = (currentStep / (totalSteps - 1)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${currentStep} of ${totalSteps - 1}`;
            
            const progressBar = document.getElementById('progressBar');
            if (currentStep > 0 && currentStep < totalSteps - 1) {
                progressBar.classList.remove('hidden');
            } else {
                progressBar.classList.add('hidden');
            }
        }

        function showStep(step) {
            for (let i = 0; i < totalSteps; i++) {
                document.getElementById('step' + i).classList.add('hidden');
            }
            document.getElementById('step' + step).classList.remove('hidden');
            updateProgress();
        }

        function nextStep() {
            if (currentStep < totalSteps - 1) {
                currentStep++;
                showStep(currentStep);
            }
        }

        function prevStep() {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
            }
        }

        document.getElementById('backBtn').addEventListener('click', prevStep);

        // Goal selection
        let selectedGoal = '';
        function selectGoal(goal, element) {
            selectedGoal = goal;
            document.querySelectorAll('#step1 .card').forEach(card => card.classList.remove('selected'));
            element.classList.add('selected');
            document.getElementById('goalBtn').disabled = false;
        }

        function saveGoalAndNext() {
            onboardingData.goal = selectedGoal;
            nextStep();
        }

        // Level selection
        let selectedLevel = '';
        function selectLevel(level, element) {
            selectedLevel = level;
            document.querySelectorAll('#step2 .card').forEach(card => card.classList.remove('selected'));
            element.classList.add('selected');
            document.getElementById('levelBtn').disabled = false;
        }

        function saveLevelAndNext() {
            onboardingData.level = selectedLevel;
            nextStep();
        }

        // Preferences selection
        const selectedActivities = [];
        function toggleActivity(activity, element) {
            const index = selectedActivities.indexOf(activity);
            if (index > -1) {
                selectedActivities.splice(index, 1);
                element.classList.remove('selected');
            } else {
                selectedActivities.push(activity);
                element.classList.add('selected');
            }
            document.getElementById('preferencesBtn').disabled = selectedActivities.length === 0;
        }

        function savePreferencesAndNext() {
            onboardingData.preferences = [...selectedActivities];
            nextStep();
        }

        // Schedule selection
        const selectedDays = [];
        function toggleDay(day, element) {
            const index = selectedDays.indexOf(day);
            if (index > -1) {
                selectedDays.splice(index, 1);
                element.classList.remove('selected');
            } else {
                selectedDays.push(day);
                element.classList.add('selected');
            }
            updateScheduleButton();
        }

        let selectedTime = '';
        function selectTime(time, element) {
            selectedTime = time;
            document.querySelectorAll('#step4 .card').forEach(card => card.classList.remove('selected'));
            element.classList.add('selected');
            updateScheduleButton();
        }

        function updateScheduleButton() {
            document.getElementById('scheduleBtn').disabled = selectedDays.length === 0 || !selectedTime;
        }

        function saveScheduleAndNext() {
            onboardingData.schedule.days = [...selectedDays];
            onboardingData.schedule.time = selectedTime;
            nextStep();
        }

        function completeOnboarding() {
            onboardingData.completed = true;
            localStorage.setItem('fittcheck_onboarding', JSON.stringify(onboardingData));
            window.location.href = 'index.html';
        }

        // Initialize
        showStep(0);
    </script>
</body>
</html>